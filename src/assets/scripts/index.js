$(function () { var mybody = $('body')[0]; var startX, startY, moveEndX, moveEndY, X, Y; var rgba = 0; mybody.addEventListener('touchstart', function (e) { startX = e.touches[0].pageX; startY = e.touches[0].pageY; }, false); mybody.addEventListener('touchmove', function (e) { moveEndX = e.changedTouches[0].pageX; moveEndY = e.changedTouches[0].pageY; X = moveEndX - startX; Y = moveEndY - startY; if (Math.abs(Y) > Math.abs(X) && Y > 0 && mybody.scrollTop<600) { rgba -= 0.1; if (rgba > 0) { $('.search_top').css('background', 'rgba(251,51,102,' + rgba + ')'); } else { rgba = 0; } } else if (Math.abs(Y) > Math.abs(X) && Y < 0) { rgba += 0.1; if (rgba < 1) { $('.search_top').css('background', 'rgba(251,51,102,' + rgba + ')'); } else { rgba = 1; }; } }); })
